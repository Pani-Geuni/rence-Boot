<!-- ------------ -->
<!-- @author 김예은 -->
<!--------------- -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="mileage-list-wrap" th:fragment="content">
    <div class="reserve-list">
        <section class="page-title-section">
            <span class="page-title">지금까지 쌓인 마일리지를 확인하세요</span>
        </section>

        <section class="mileage-section">
            <section class="mileage-section">
                <section class="mileage">
                    <span class="mileage-label">현재 마일리지</span>
                    <span id="now-mileage" class="mileage-won">[[${mileage_total}]] 원</span>
                </section>
            </section>
        </section>

        <section class="mileage-list-section">
            <section class="mileage-list-menu">
                <span id = "all" class="menus 
               		<th:block th:if="${searchKey} == 'all'">choice</th>
               		<th:block th:if="${searchKey} != 'all'">un-choice</th>
                ">전체</span>
                <span id = "plus" class="menus 
               		<th:block th:if="${searchKey} == 'plus'">choice</th>
               		<th:block th:if="${searchKey} != 'plus'">un-choice</th>
            	">적립</span>
                <span id = "minus" class="menus 
               		<th:block th:if="${searchKey} == 'minus'">choice</th>
               		<th:block th:if="${searchKey} != 'minus'">un-choice</th>
                ">사용</span>
            </section>

            <section class="mileage-history-section">
                <section class="mileage-history-title-section">
                    <div class="list-title-txt-wrap">
                        <span class="list-title-txt list-status">상태</span>
                        <span class="list-title-txt list-mileage">마일리지</span>
                        <span class="list-title-txt list-content">내용</span>
                        <span class="list-title-txt list-date">적용일</span>
                    </div>
                </section>
                           
                <section class="mileage-history-wrap">
                	<ul>
						<!-- START th:each -->
						<th:block th:each="obj : ${res.list}">
                            <li class="mileage-list">
                                <span class="list-status <th:block th:if="${obj.state} == 'T'">plus-price-label</th>">
									<th:block th:if="${obj.state} == 'T'">적립</th>
									<th:block th:if="${obj.state} == 'F'">사용</th>
								</span>
                                <span class="list-mileage 
                                		<th:block th:if="${obj.state} == 'T'">plus-price</th>
                                		<th:block th:if="${obj.state} == 'F'">minus-price</th>
                                	">
                                	<th:block th:if="${obj.state eq 'T'}">+</th>
									<th:block th:if="${obj.state eq 'F'}">-</th>
                                	[[${obj.mileage}]]
                                </span>
                                <span class="list-content">[[${obj.room}]]</span>
                                <span class="list-date">[[${obj.date}]]</span>
                            </li>
                       	</th>
						<!-- END th:each -->
                    </ul>
               </section>
            </section>
        </section>
    </div>
</div>
</body>
</html>